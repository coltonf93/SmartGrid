document.addEventListener('DOMContentLoaded', function(){ var cy = cytoscape({ container: document.querySelector('#cy'), boxSelectionEnabled: false, zoomingEnabled: false, panningEnabled: true, autounselectify: true, style: cytoscape.stylesheet() .selector('node') .css({ 'content': 'data(id)', width: '60px', height: '60px', 'text-valign': 'center', 'color': '#333', 'text-outline-width': 2, 'text-outline-color': 'white', 'pie-size': '80%', 'pie-1-background-color': '#E8747C', 'pie-1-background-size': 'mapData(red, 0, 10, 0, 100)', 'pie-2-background-color': '#74E883', 'pie-2-background-size': 'mapData(green, 0, 10, 0, 100)' }) .selector('edge') .css({ 'target-arrow-shape': 'triangle' }) .selector(':selected') .css({ 'background-color': 'black', 'line-color': 'black', 'target-arrow-color': 'green', 'source-arrow-color': 'green' }) .selector('.faded') .css({ 'opacity': 0.08, 'text-opacity': 0 }),
elements: {nodes:[{ data: { id: 'MainGrid', red: 5, green: 5 } },
{ data: { id: 'Consumer 1', red: 10, green: 0 } },
{ data: { id: 'Consumer 2', red: 10, green: 0 } },
{ data: { id: 'Consumer 3', red: 10, green: 0 } },
{ data: { id: 'Consumer 4', red: 10, green: 0 } },
{ data: { id: 'Consumer 5', red: 10, green: 0 } },
{ data: { id: 'Solar 1', red: 0, green: 10 } },
{ data: { id: 'Solar 2', red: 0, green: 10 } },
{ data: { id: 'Solar 3', red: 0, green: 10 } },
{ data: { id: 'Solar 4', red: 0, green: 10 } },
{ data: { id: 'Wind 1', red: 0, green: 10 } },
{ data: { id: 'Wind 2', red: 0, green: 10 } },
{ data: { id: 'Wind 3', red: 0, green: 10 } },
{ data: { id: 'Wind 4', red: 0, green: 10 } },
{ data: { id: 'Wind 5', red: 0, green: 10 } },
{ data: { id: 'Storage 1', red: 5, green: 5 } },
{ data: { id: 'Storage 2', red: 5, green: 5 } },
{ data: { id: 'Storage 3', red: 5, green: 5 } },
],
edges:[{ data: { id: 'link00', weight: 1, source: 'Solar 1', target: 'MainGrid' } },
{ data: { id: 'link01', weight: 1, source: 'Wind 1', target: 'MainGrid' } },
{ data: { id: 'link02', weight: 1, source: 'Solar 4', target: 'MainGrid' } },
{ data: { id: 'link03', weight: 1, source: 'Solar 2', target: 'MainGrid' } },
{ data: { id: 'link04', weight: 1, source: 'Solar 3', target: 'MainGrid' } },
{ data: { id: 'link05', weight: 1, source: 'Wind 3', target: 'MainGrid' } },
{ data: { id: 'link06', weight: 1, source: 'Wind 5', target: 'MainGrid' } },
{ data: { id: 'link07', weight: 1, source: 'Wind 4', target: 'MainGrid' } },
{ data: { id: 'link08', weight: 1, source: 'Wind 2', target: 'MainGrid' } },
{ data: { id: 'link09', weight: 1, source: 'Storage 2', target: 'MainGrid' } },
{ data: { id: 'link010', weight: 1, source: 'Storage 1', target: 'MainGrid' } },
{ data: { id: 'link011', weight: 1, source: 'Storage 3', target: 'MainGrid' } },
{ data: { id: 'link10', weight: 1, source: 'Solar 1', target: 'Consumer 1' } },
{ data: { id: 'link11', weight: 1, source: 'Wind 1', target: 'Consumer 1' } },
{ data: { id: 'link12', weight: 1, source: 'Solar 2', target: 'Consumer 1' } },
{ data: { id: 'link13', weight: 1, source: 'Solar 3', target: 'Consumer 1' } },
{ data: { id: 'link14', weight: 1, source: 'Wind 4', target: 'Consumer 1' } },
{ data: { id: 'link15', weight: 1, source: 'Storage 3', target: 'Consumer 1' } },
{ data: { id: 'link16', weight: 1, source: 'MainGrid', target: 'Consumer 1' } },
{ data: { id: 'link17', weight: 1, source: 'Storage 1', target: 'Consumer 1' } },
{ data: { id: 'link20', weight: 1, source: 'Solar 1', target: 'Consumer 2' } },
{ data: { id: 'link21', weight: 1, source: 'Wind 1', target: 'Consumer 2' } },
{ data: { id: 'link22', weight: 1, source: 'Solar 4', target: 'Consumer 2' } },
{ data: { id: 'link23', weight: 1, source: 'Solar 3', target: 'Consumer 2' } },
{ data: { id: 'link24', weight: 1, source: 'Wind 4', target: 'Consumer 2' } },
{ data: { id: 'link25', weight: 1, source: 'Wind 2', target: 'Consumer 2' } },
{ data: { id: 'link26', weight: 1, source: 'Storage 1', target: 'Consumer 2' } },
{ data: { id: 'link27', weight: 1, source: 'Storage 2', target: 'Consumer 2' } },
{ data: { id: 'link28', weight: 1, source: 'MainGrid', target: 'Consumer 2' } },
{ data: { id: 'link30', weight: 1, source: 'Solar 1', target: 'Consumer 3' } },
{ data: { id: 'link31', weight: 1, source: 'Solar 4', target: 'Consumer 3' } },
{ data: { id: 'link32', weight: 1, source: 'Wind 3', target: 'Consumer 3' } },
{ data: { id: 'link33', weight: 1, source: 'Wind 5', target: 'Consumer 3' } },
{ data: { id: 'link34', weight: 1, source: 'Wind 4', target: 'Consumer 3' } },
{ data: { id: 'link35', weight: 1, source: 'Wind 2', target: 'Consumer 3' } },
{ data: { id: 'link36', weight: 1, source: 'MainGrid', target: 'Consumer 3' } },
{ data: { id: 'link37', weight: 1, source: 'Storage 3', target: 'Consumer 3' } },
{ data: { id: 'link38', weight: 1, source: 'Storage 2', target: 'Consumer 3' } },
{ data: { id: 'link40', weight: 1, source: 'Solar 1', target: 'Consumer 4' } },
{ data: { id: 'link41', weight: 1, source: 'Solar 4', target: 'Consumer 4' } },
{ data: { id: 'link42', weight: 1, source: 'Solar 2', target: 'Consumer 4' } },
{ data: { id: 'link43', weight: 1, source: 'Solar 3', target: 'Consumer 4' } },
{ data: { id: 'link44', weight: 1, source: 'Wind 3', target: 'Consumer 4' } },
{ data: { id: 'link45', weight: 1, source: 'Wind 5', target: 'Consumer 4' } },
{ data: { id: 'link46', weight: 1, source: 'Storage 1', target: 'Consumer 4' } },
{ data: { id: 'link47', weight: 1, source: 'MainGrid', target: 'Consumer 4' } },
{ data: { id: 'link48', weight: 1, source: 'Storage 2', target: 'Consumer 4' } },
{ data: { id: 'link50', weight: 1, source: 'Wind 1', target: 'Consumer 5' } },
{ data: { id: 'link51', weight: 1, source: 'Solar 4', target: 'Consumer 5' } },
{ data: { id: 'link52', weight: 1, source: 'Solar 2', target: 'Consumer 5' } },
{ data: { id: 'link53', weight: 1, source: 'Wind 3', target: 'Consumer 5' } },
{ data: { id: 'link54', weight: 1, source: 'Wind 2', target: 'Consumer 5' } },
{ data: { id: 'link55', weight: 1, source: 'MainGrid', target: 'Consumer 5' } },
{ data: { id: 'link56', weight: 1, source: 'Storage 3', target: 'Consumer 5' } },
{ data: { id: 'link57', weight: 1, source: 'Storage 2', target: 'Consumer 5' } },
{ data: { id: 'link150', weight: 1, source: 'Solar 1', target: 'Storage 1' } },
{ data: { id: 'link151', weight: 1, source: 'Solar 4', target: 'Storage 1' } },
{ data: { id: 'link152', weight: 1, source: 'Solar 2', target: 'Storage 1' } },
{ data: { id: 'link153', weight: 1, source: 'Solar 3', target: 'Storage 1' } },
{ data: { id: 'link154', weight: 1, source: 'Wind 3', target: 'Storage 1' } },
{ data: { id: 'link155', weight: 1, source: 'MainGrid', target: 'Storage 1' } },
{ data: { id: 'link160', weight: 1, source: 'Wind 1', target: 'Storage 2' } },
{ data: { id: 'link161', weight: 1, source: 'Solar 4', target: 'Storage 2' } },
{ data: { id: 'link162', weight: 1, source: 'Solar 2', target: 'Storage 2' } },
{ data: { id: 'link163', weight: 1, source: 'Wind 4', target: 'Storage 2' } },
{ data: { id: 'link164', weight: 1, source: 'Wind 2', target: 'Storage 2' } },
{ data: { id: 'link165', weight: 1, source: 'MainGrid', target: 'Storage 2' } },
{ data: { id: 'link170', weight: 1, source: 'Solar 3', target: 'Storage 3' } },
{ data: { id: 'link171', weight: 1, source: 'Wind 3', target: 'Storage 3' } },
{ data: { id: 'link172', weight: 1, source: 'Wind 5', target: 'Storage 3' } },
{ data: { id: 'link173', weight: 1, source: 'Wind 4', target: 'Storage 3' } },
{ data: { id: 'link174', weight: 1, source: 'Wind 2', target: 'Storage 3' } },
{ data: { id: 'link175', weight: 1, source: 'MainGrid', target: 'Storage 3' } },
]},
layout: { /*ring, grid and*/ name: 'grid', padding: 10 } }); cy.on('tap', 'node', function(e){ var node = e.cyTarget; var neighborhood = node.neighborhood().add(node); cy.elements().addClass('faded'); neighborhood.removeClass('faded'); }); cy.on('tap', function(e){ if( e.cyTarget === cy ){ cy.elements().removeClass('faded'); } }); });
$( document ).ready(function() {$('#agentData tbody').append('<tr id="tidMainGrid"><td>MainGrid</td><td>$0.01</td><td>$1</td><td>$16.1</td><td>$2415.62</td></tr>');
$('#agentData tbody').append('<tr id="tidConsumer 1"><td>Consumer 1</td><td>$0.41</td><td>$0.00</td><td>-$8.38</td><td>-$1465.04</td></tr>');
$('#agentData tbody').append('<tr id="tidConsumer 2"><td>Consumer 2</td><td>$0.37</td><td>$0.00</td><td>-$7.37</td><td>-$1432.69</td></tr>');
$('#agentData tbody').append('<tr id="tidConsumer 3"><td>Consumer 3</td><td>$0.42</td><td>$0.00</td><td>-$8.57</td><td>-$1413.35</td></tr>');
$('#agentData tbody').append('<tr id="tidConsumer 4"><td>Consumer 4</td><td>$0.37</td><td>$0.00</td><td>-$9.01</td><td>-$1418.87</td></tr>');
$('#agentData tbody').append('<tr id="tidConsumer 5"><td>Consumer 5</td><td>$0.35</td><td>$0.00</td><td>-$6.96</td><td>-$1418.65</td></tr>');
$('#agentData tbody').append('<tr id="tidSolar 1"><td>Solar 1</td><td>$0.00</td><td>$0.11</td><td>$1.5</td><td>$415.96</td></tr>');
$('#agentData tbody').append('<tr id="tidSolar 2"><td>Solar 2</td><td>$0.00</td><td>$0.13</td><td>$3.7</td><td>$431.02</td></tr>');
$('#agentData tbody').append('<tr id="tidSolar 3"><td>Solar 3</td><td>$0.00</td><td>$0.13</td><td>$1.07</td><td>$431.67</td></tr>');
$('#agentData tbody').append('<tr id="tidSolar 4"><td>Solar 4</td><td>$0.00</td><td>$0.12</td><td>$1.83</td><td>$416.42</td></tr>');
$('#agentData tbody').append('<tr id="tidWind 1"><td>Wind 1</td><td>$0.00</td><td>$0.12</td><td>$2.82</td><td>$670.08</td></tr>');
$('#agentData tbody').append('<tr id="tidWind 2"><td>Wind 2</td><td>$0.00</td><td>$0.15</td><td>$4.58</td><td>$659.67</td></tr>');
$('#agentData tbody').append('<tr id="tidWind 3"><td>Wind 3</td><td>$0.00</td><td>$0.14</td><td>$2.91</td><td>$660.88</td></tr>');
$('#agentData tbody').append('<tr id="tidWind 4"><td>Wind 4</td><td>$0.00</td><td>$0.14</td><td>$4.13</td><td>$647.43</td></tr>');
$('#agentData tbody').append('<tr id="tidWind 5"><td>Wind 5</td><td>$0.00</td><td>$0.14</td><td>$2.78</td><td>$619.27</td></tr>');
$('#agentData tbody').append('<tr id="tidStorage 1"><td>Storage 1</td><td>$0.01</td><td>$1</td><td>$-0.49</td><td>$-82.31</td></tr>');
$('#agentData tbody').append('<tr id="tidStorage 2"><td>Storage 2</td><td>$0.01</td><td>$1</td><td>$-0.2</td><td>$-66.72</td></tr>');
$('#agentData tbody').append('<tr id="tidStorage 3"><td>Storage 3</td><td>$0.01</td><td>$1</td><td>$-0.47</td><td>$-70.38</td></tr>');
$('#cCount').text('5');$('#gCount').text('9');$('#sCount').text('3');$('#dCount').text('150');});
